<!DOCTYPE html>
<html>
<head>
    <title>PhishTracker Dashboard</title>
    <style>
        table { border-collapse: collapse; width: 100%; }
        th, td { border: 1px solid black; padding: 8px; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>
    <h1>PhishTracker Dashboard</h1>

    <h2>Domains</h2>
    <table>
        <tr>
            <th>Domain</th>
            <th>Registrar</th>
            <th>Creation Date</th>
        </tr>
        {% for domain, registrar, creation_date in domains %}
        <tr>
            <td>{{ domain }}</td>
            <td>{{ registrar }}</td>
            <td>{{ creation_date }}</td>
        </tr>
        {% endfor %}
    </table>

    <h2>Emails</h2>
    <table>
        <tr><th>Email</th></tr>
        {% for email in emails %}
        <tr><td>{{ email }}</td></tr>
        {% endfor %}
    </table>

    <h2>IPs</h2>
    <table>
        <tr><th>IP</th></tr>
        {% for ip in ips %}
        <tr><td>{{ ip }}</td></tr>
        {% endfor %}
    </table>

    <h2>Pastebin Connections</h2>
    <table>
        <tr>
            <th>Paste URL</th>
            <th>Extracted Domains</th>
            <th>Linked Domains</th>
        </tr>
        {% for paste in paste_connections %}
        <tr>
            <td>{{ paste.url }}</td>
            <td>{{ ', '.join(paste.extracted_domains) if paste.extracted_domains else 'N/A' }}</td>
            <td>{{ ', '.join(paste.linked_domains) if paste.linked_domains else 'N/A' }}</td>
        </tr>
        {% endfor %}
    </table>
</body>
</html>
